<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mysteri Pembunuhan Berantai</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:Poppins,sans-serif}
body{background:#0f061a;color:white;overflow-y:auto;min-height:100vh;}

/* BACKGROUND */
#bg{position:fixed;inset:0;background-size:cover;background-position:center;filter:blur(2px);transition:1.2s;z-index:-3}
#overlay{position:fixed;inset:0;background:linear-gradient(rgba(20,10,40,.45),rgba(10,5,20,.7));z-index:-2}

/* WEATHER */
#weather{position:fixed;inset:0;pointer-events:none;z-index:-1}
.drop{position:absolute;top:-20px;width:2px;height:18px;background:rgba(200,200,255,.6);animation:rain linear infinite}
@keyframes rain{to{transform:translateY(120vh)}}

/* APP */
#app{
  width:95%;
  max-width:900px;
  margin:20px auto;
  padding:20px;
  background:rgba(255,255,255,.08);
  backdrop-filter:blur(10px);
  border-radius:22px;
  box-shadow:0 30px 80px rgba(0,0,0,.6);
  animation:idle 8s ease-in-out infinite;
}
@keyframes idle{50%{transform:scale(1.015)}}
.shake{animation:shake .35s}
@keyframes shake{
  25%{transform:translateX(-6px)}
  50%{transform:translateX(6px)}
  75%{transform:translateX(-4px)}
}

/* SCENE */
.scene{display:flex;flex-direction:column;gap:12px;margin-top:16px;}
.charRow{display:flex;align-items:flex-start;gap:12px;flex-wrap:wrap;}
.charBox{text-align:center;width:60px;flex-shrink:0;}
.char{
  width:60px;height:60px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-size:1.8rem;box-shadow:0 8px 20px rgba(0,0,0,.5)
}
.charName{font-size:.65rem;opacity:.75;margin-top:3px;letter-spacing:.5px}

/* Karakter warna */
.bear{background:linear-gradient(145deg,#8b5a2b,#5a3a1a)}
.lion{background:linear-gradient(145deg,#f5a623,#c97a12)}
.panda{background:linear-gradient(145deg,#fff,#ccc);color:#000}
.fox{background:linear-gradient(145deg,#ff7a18,#ff3d00)}
.wolf{background:linear-gradient(145deg,#fff,#ccc);color:#000}
.ghost{background:linear-gradient(145deg,#555,#222)}

.bubble{
  flex:1;background:rgba(0,0,0,.35);
  border-radius:12px;padding:10px 12px;
  line-height:1.5;opacity:0;transform:translateY(4px);
  transition:.4s ease;
  word-break:break-word;
}
.bubble.show{opacity:1;transform:translateY(0)}

/* CONTROLS */
.controls{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;margin-top:14px;gap:8px}
button,label{
  padding:6px 14px;border:none;border-radius:999px;
  background:#7b5cff;color:white;font-weight:bold;cursor:pointer;font-size:.85rem
}

/* JUMPSCARE */
#flash{
  position:fixed;inset:0;background:white;opacity:0;pointer-events:none;z-index:999;
}
.flash{animation:flash .25s}
@keyframes flash{50%{opacity:1}}

/* GRAYSCALE */
.grayscale{filter:grayscale(100%)}

/* Responsif HP */
@media(max-width:600px){
  .charBox{width:50px;}
  .char{width:50px;height:50px;font-size:1.5rem;}
  .bubble{font-size:.85rem;padding:8px 10px;}
  .controls{flex-direction:column;gap:6px;}
}
</style>
</head>

<body>

<div id="bg"></div>
<div id="overlay"></div>
<div id="weather"></div>
<div id="flash"></div>

<div id="app">
  <h2 style="text-align:center">ğŸŒ‘ Mysteri Pembunuhan Berantai ğŸŒ‘</h2>

  <div class="scene">

    <!-- IKY -->
    <div class="charRow">
      <div class="charBox">
        <div class="char bear" id="ikyChar">ğŸ»</div>
        <div class="charName">IKY</div>
      </div>
      <div class="bubble" id="ikyBubble"></div>
    </div>

    <!-- ANDI -->
    <div class="charRow">
      <div class="charBox">
        <div class="char lion" id="andiChar">ğŸ¦</div>
        <div class="charName">ANDI</div>
      </div>
      <div class="bubble" id="andiBubble"></div>
    </div>

    <!-- HANY -->
    <div class="charRow">
      <div class="charBox">
        <div class="char panda" id="hanyChar">ğŸ¼</div>
        <div class="charName">HANY</div>
      </div>
      <div class="bubble" id="hanyBubble"></div>
    </div>

    <!-- OGIF -->
    <div class="charRow">
      <div class="charBox">
        <div class="char fox" id="ogifChar">ğŸ¦Š</div>
        <div class="charName">OGIF</div>
      </div>
      <div class="bubble" id="ogifBubble"></div>
    </div>

    <!-- NO NAME -->
    <div class="charRow">
      <div class="charBox">
        <div class="char wolf" id="tetuaChar">ğŸº</div>
        <div class="charName">NO NAME</div>
      </div>
      <div class="bubble" id="nonameBubble"></div>
    </div>

    <!-- WARGA -->
    <div class="charRow">
      <div class="charBox">
        <div class="char ghost" id="suanggiChar">ğŸ™‹ğŸ»â€â™‚ï¸</div>
        <div class="charName">WARGA</div>
      </div>
      <div class="bubble" id="wargaBubble"></div>
    </div>

    <!-- NARRATOR -->
    <div class="charRow">
      <div class="charBox">
        <div class="char" id="narratorChar">ğŸ“</div>
        <div class="charName">NARRATOR</div>
      </div>
      <div class="bubble" id="narratorBubble"></div>
    </div>

  </div>

  <div class="controls">
    <button onclick="prevPart()">âŸµ</button>

    <label>
      ğŸµ Pilih Musik
      <input type="file" accept="audio/*" hidden onchange="loadMusic(this)">
    </label>

    <button onclick="nextPart()">âŸ¶</button>
  </div>
</div>

<audio id="bgm" loop></audio>

<script>
const bgm=document.getElementById("bgm");
const savedMusic=localStorage.getItem("bgmSrc");
if(savedMusic){bgm.src=savedMusic}

function loadMusic(input){
  const file=input.files[0];
  if(!file) return;
  const url=URL.createObjectURL(file);
  bgm.src=url;
  bgm.play();
  localStorage.setItem("bgmSrc",url);
}

const parts = [
  // =========================
  // PART 1 â€” PEMBUKAAN SEASON 4
  // =========================
  {
    bg: "bg/office_day.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Setelah lulus, Iky dan Hany kini bekerja sebagai junior di biro Andi & Ogif. Tekad mereka besar, dan tantangan menanti." },
      { char: "iky", text: "ğŸ» Hany, siap untuk kasus pertama kita?" },
      { char: "hany", text: "ğŸ¼ Selalu siapâ€¦ tapi jangan terlalu santai, ya." },
      { char: "andi", text: "ğŸ¦ Junior, kalian bakal kerja keras. Jangan sampai salah langkah." },
      { char: "ogif", text: "ğŸ¦Š Aku harap kalian bisa mengikuti ritme kami." }
    ]
  },

  // =========================
  // PART 2 â€” LAPORAN PERTAMA
  // =========================
  {
    bg: "bg/crime_scene_night.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Malam ini ada laporan korban pria dewasa di gudang tua." },
      { char: "iky", text: "ğŸ» Hati-hati, Hany. Perhatikan setiap detail." },
      { char: "hany", text: "ğŸ¼ Aku lihat simbol aneh di lantaiâ€¦" },
      { char: "ogif", text: "ğŸ¦Š Bagus, Hany. Catat semuanya, jangan sampai terlewat." },
      { char: "andi", text: "ğŸ¦ Simbol iniâ€¦ mirip dengan kasus lama." }
    ]
  },

  // =========================
  // PART 3 â€” ANALISIS
  // =========================
  {
    bg: "bg/office_day2.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Pola iniâ€¦ sepertinya pembunuh sengaja memancing kita." },
      { char: "hany", text: "ğŸ¼ Aku nggak suka perasaan iniâ€¦ terasa berbahaya." },
      { char: "ogif", text: "ğŸ¦Š Iky, kamu yakin bisa menebak petunjuknya?" },
      { char: "andi", text: "ğŸ¦ Jangan terlalu percaya insting kalian. Kita butuh bukti." }
    ]
  },

  // =========================
  // PART 4 â€” KORBAN ANAK
  // =========================
  {
    bg: "bg/crime_scene_child.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Korban anak kecil ditemukan di taman kota. Luka-lukanya misterius." },
      { char: "hany", text: "ğŸ¼ Ikyâ€¦ kita harus cepat!" },
      { char: "iky", text: "ğŸ» Tenangâ€¦ amati dulu. Setiap detail penting." },
      { char: "ogif", text: "ğŸ¦Š Hany, jangan terlalu dekat. Bisa berbahaya." },
      { char: "andi", text: "ğŸ¦ Aku nggak percaya ada orang gila begini di kota." }
    ]
  },

  // =========================
  // PART 5 â€” PETUNJUK PERTAMA
  // =========================
  {
    bg: "bg/evidence_board.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Simbol yang sama muncul di setiap TKP. Pembunuh sengaja meninggalkannya." },
      { char: "hany", text: "ğŸ¼ Aku baru sadarâ€¦ ada pola tertentu dalam pemilihan korban." },
      { char: "ogif", text: "ğŸ¦Š Setuju, kita bisa gunakan ini untuk prediksi selanjutnya." },
      { char: "andi", text: "ğŸ¦ Tapi pola iniâ€¦ terlalu rapi. Tidak mudah ditebak." },
      { char: "narrator", text: "ğŸ“ Iky dan Hany mulai merasakan ketegangan yang berbeda kali ini." }
    ]
  },

  // =========================
  // PART 6 â€” KONFRONTASI WARGA
  // =========================
  {
    bg: "bg/city_night2.jpg",
    lines: [
      { char: "warga", text: "ğŸ™‹ğŸ»â€â™‚ï¸ Jangan ikut campur, ini urusan berbahaya!" },
      { char: "iky", text: "ğŸ» Kami harus tahu kebenaran, tolong beri petunjuk." },
      { char: "hany", text: "ğŸ¼ Jangan khawatir, kami hanya ingin membantu." },
      { char: "andi", text: "ğŸ¦ Sebenarnya ada saksi yang takut bicara." },
      { char: "ogif", text: "ğŸ¦Š Kita harus pastikan mereka aman sebelum tanya lebih jauh." }
    ]
  },

  // =========================
  // PART 7 â€” KORBAN WANITA
  // =========================
  {
    bg: "bg/crime_scene_woman.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Korban wanita dewasa ditemukan di rumah kosong. Lukanya berbeda dengan korban sebelumnya." },
      { char: "iky", text: "ğŸ» Pembunuh iniâ€¦ semakin berani." },
      { char: "hany", text: "ğŸ¼ Aku merasa ada yang memantau kitaâ€¦" },
      { char: "ogif", text: "ğŸ¦Š Tetap fokus, jangan biarkan rasa takut menguasai." },
      { char: "andi", text: "ğŸ¦ Kita butuh bukti nyata, bukan hanya insting." }
    ]
  },

  // =========================
  // PART 8 â€” PETUNJUK BARU
  // =========================
  {
    bg: "bg/office_day3.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Lihat iniâ€¦ ada jejak sepatu dan sidik jari. Bisa jadi petunjuk." },
      { char: "hany", text: "ğŸ¼ Aku bantu catat dan foto semua bukti." },
      { char: "ogif", text: "ğŸ¦Š Bagus. Hany mulai terlihat lebih berani." },
      { char: "andi", text: "ğŸ¦ Kita harus konfirmasi identitas korban dengan cepat." }
    ]
  },

  // =========================
  // PART 9 â€” MALAM PENUH TEKA-TEKI
  // =========================
  {
    bg: "bg/night_street.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Malam ini kota sunyi. Namun misteri semakin menumpuk." },
      { char: "iky", text: "ğŸ» Hany, tetap di dekatku." },
      { char: "hany", text: "ğŸ¼ Aku selalu di sampingmuâ€¦" },
      { char: "andi", text: "ğŸ¦ Ada laporan korban baru, mari kita periksa." },
      { char: "ogif", text: "ğŸ¦Š Iky, ini mulai rumit. Tapi kalian berdua hebat." }
    ]
  },

  // =========================
  // PART 10 â€” KONFLIK INTERNAL
  // =========================
  {
    bg: "bg/office_night.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Ogif, kita harus koordinasi lebih baik. Jangan sampai ada kesalahan." },
      { char: "ogif", text: "ğŸ¦Š Tenang Iky, aku tahu tanggung jawabku." },
      { char: "andi", text: "ğŸ¦ Aku lihat Hany mulai adaptasi cepat." },
      { char: "hany", text: "ğŸ¼ Aku ingin membantuâ€¦ aku bisa lebih dari yang kalian kira." },
      { char: "narrator", text: "ğŸ“ Tekanan dan misteri membuat semua semakin tegang." }
    ]
  },

  // =========================
  // PART 11 â€” KORBAN ANAK LAIN
  // =========================
  {
    bg: "bg/crime_scene_child2.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Korban anak kedua ditemukan di gudang tua lain. Pola pembunuhan semakin rumit." },
      { char: "iky", text: "ğŸ» Hany, ini tidak biasaâ€¦ kita harus fokus." },
      { char: "hany", text: "ğŸ¼ Aku akan bantu cari petunjuk di sekitar." },
      { char: "ogif", text: "ğŸ¦Š Bagus, Hany. Semakin percaya diri." },
      { char: "andi", text: "ğŸ¦ Kita hampir mendekati pola pelaku." }
    ]
  },

  // =========================
  // PART 12 â€” PERTEMUAN WARGA
  // =========================
  {
    bg: "bg/city_day.jpg",
    lines: [
      { char: "warga", text: "ğŸ™‹ğŸ»â€â™‚ï¸ Aku lihat sesuatu yang mencurigakan malam tadiâ€¦" },
      { char: "iky", text: "ğŸ» Ceritakan semuanya, jangan sembunyi informasi." },
      { char: "hany", text: "ğŸ¼ Kita harus cepat sebelum korban berikutnya." },
      { char: "andi", text: "ğŸ¦ Bisa jadi petunjuk utama kita." },
      { char: "ogif", text: "ğŸ¦Š Kita harus tetap hati-hati." }
    ]
  },

  // =========================
  // PART 13 â€” PETUNJUK SIMBOL
  // =========================
  {
    bg: "bg/evidence_board2.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Simbol ini muncul di semua TKP. Pembunuh sengaja meninggalkan jejak untuk kita." },
      { char: "hany", text: "ğŸ¼ Aku catat semuanya, termasuk posisi korban." },
      { char: "ogif", text: "ğŸ¦Š Bagus Hany, ini membuat kita lebih dekat ke pelaku." },
      { char: "andi", text: "ğŸ¦ Pola korban mulai terlihat. Ini krusial." }
    ]
  },

  // =========================
  // PART 14 â€” TEKA TEKI
  // =========================
  {
    bg: "bg/night_street2.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Malam ini hujan deras. Kota menjadi gelap dan misteri semakin pekat." },
      { char: "iky", text: "ğŸ» Hany, jangan jauh-jauh." },
      { char: "hany", text: "ğŸ¼ Aku ikut di belakangmu, Iky." },
      { char: "andi", text: "ğŸ¦ Ada jejak kaki basah menuju rumah kosong." },
      { char: "ogif", text: "ğŸ¦Š Kita harus periksa semua ruangan." }
    ]
  },

  // =========================
  // PART 15 â€” KORBAN WANITA LAIN
  // =========================
  {
    bg: "bg/crime_scene_woman2.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Korban wanita ketiga ditemukan, kali ini di taman kota." },
      { char: "iky", text: "ğŸ» Setiap korban berbedaâ€¦ tapi ada satu benang merah." },
      { char: "hany", text: "ğŸ¼ Aku lihat sesuatuâ€¦ simbol yang sama." },
      { char: "andi", text: "ğŸ¦ Kita harus hubungkan semua titik bukti." },
      { char: "ogif", text: "ğŸ¦Š Semakin dekat dengan pola pelaku." }
    ]
  },

  // =========================
  // PART 16 â€” KONFRONTASI NONAME
  // =========================
  {
    bg: "bg/abandoned_building.jpg",
    lines: [
      { char: "noname", text: "ğŸº Kalian pikir bisa menghentikanku?" },
      { char: "iky", text: "ğŸ» Tidak, kami akan menangkapmu!" },
      { char: "hany", text: "ğŸ¼ Jangan buat kesalahan, kami bisa kerjasama!" },
      { char: "andi", text: "ğŸ¦ Fokus, jangan emosional." },
      { char: "ogif", text: "ğŸ¦Š Iky, Hanyâ€¦ ikuti aku!" }
    ]
  },

  // =========================
  // PART 17 â€” STRATEGI TIM
  // =========================
  {
    bg: "bg/office_night2.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Kita harus koordinasi. Jangan sampai pelaku kabur." },
      { char: "hany", text: "ğŸ¼ Aku bisa bantu pantau bukti digital." },
      { char: "ogif", text: "ğŸ¦Š Aku akan kontrol lapangan." },
      { char: "andi", text: "ğŸ¦ Aku tetap backup kalian." },
      { char: "narrator", text: "ğŸ“ Setiap anggota tim punya peran penting malam ini." }
    ]
  },

  // =========================
  // PART 18 â€” MALAM PENENTUAN
  // =========================
  {
    bg: "bg/night_street3.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Hujan deras, lampu jalan redup. Pelaku terlihat bergerak." },
      { char: "iky", text: "ğŸ» Hany, tetap dekatku." },
      { char: "hany", text: "ğŸ¼ Aku di sampingmuâ€¦ siap kapan saja." },
      { char: "andi", text: "ğŸ¦ Aku lihat gerakannya. Tunggu tanda!" },
      { char: "ogif", text: "ğŸ¦Š Fokus, jangan lengah." }
    ]
  },

  // =========================
  // PART 19 â€” KONFRONTASI TERAKHIR
  // =========================
  {
    bg: "bg/abandoned_building2.jpg",
    lines: [
      { char: "noname", text: "ğŸº Kalian pikir bisa menangkapku?" },
      { char: "iky", text: "ğŸ» Tidak, ini terakhir kali kau kabur!" },
      { char: "hany", text: "ğŸ¼ Jangan sakiti siapa pun lagi!" },
      { char: "andi", text: "ğŸ¦ Koordinasi sekarang!" },
      { char: "ogif", text: "ğŸ¦Š Fokus Iky, Hanyâ€¦ ikuti aku!" }
    ]
  },

  // =========================
  // PART 20 â€” ENDING BITTERSWEET
  // =========================
  {
    bg: "bg/office_day4.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Setelah penangkapan, kota kembali tenang. Namun ketegangan dan trauma masih terasa." },
      { char: "iky", text: "ğŸ» Hany, kita berhasil. Tapi aku masih harus belajar lebih banyak." },
      { char: "hany", text: "ğŸ¼ Aku bangga padamu, Ikyâ€¦ dan aku juga lebih berani sekarang." },
      { char: "ogif", text: "ğŸ¦Š Kerja bagus semua, ini baru awal dari karier kalian." },
      { char: "andi", text: "ğŸ¦ Jangan lengah. Dunia ini masih penuh misteri." }
    ]
  },

   // =========================
  // PART 21 â€” KASUS SAMPINGAN
  // =========================
  {
    bg: "bg/city_day2.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Hari berikutnya, kasus baru muncul: seorang pria dewasa hilang secara misterius." },
      { char: "iky", text: "ğŸ» Hany, kita harus pisahkan tugas. Aku cek lokasi terakhir korban." },
      { char: "hany", text: "ğŸ¼ Aku akan telusuri saksi di sekitar." },
      { char: "ogif", text: "ğŸ¦Š Jangan lupa koordinasi dengan Andi." },
      { char: "andi", text: "ğŸ¦ Aku pantau CCTV dan laporan warga." }
    ]
  },

  // =========================
  // PART 22 â€” PETUNJUK AWAL
  // =========================
  {
    bg: "bg/crime_scene_day.jpg",
    lines: [
      { char: "hany", text: "ğŸ¼ Aku menemukan catatan aneh di dekat TKP. Ada angka dan simbol." },
      { char: "iky", text: "ğŸ» Baik, Hany. Catat semuanya. Ini bisa jadi petunjuk." },
      { char: "ogif", text: "ğŸ¦Š Simbol ini mirip dengan kasus sebelumnya." },
      { char: "andi", text: "ğŸ¦ Kalau benar, pelaku mungkin ingin kita fokus di sini." },
      { char: "narrator", text: "ğŸ“ Hany mulai menunjukkan ketajaman observasi yang mengejutkan Iky." }
    ]
  },

  // =========================
  // PART 23 â€” PENGINTAIAN
  // =========================
  {
    bg: "bg/night_street4.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Hany, tetap di belakangku. Jangan lengah." },
      { char: "hany", text: "ğŸ¼ Aku di sampingmuâ€¦ siap menghadapi apapun." },
      { char: "andi", text: "ğŸ¦ Aku sudah mengatur pengawasan. Pastikan tidak ada yang terlewat." },
      { char: "ogif", text: "ğŸ¦Š Iky, perhatikan setiap gerakan sekitar." },
      { char: "narrator", text: "ğŸ“ Malam ini terasa berbeda. Ada perasaan seolah pelaku mengintai mereka." }
    ]
  },

  // =========================
  // PART 24 â€” PETUNJUK TERSEMBUNYI
  // =========================
  {
    bg: "bg/warehouse_interior.jpg",
    lines: [
      { char: "hany", text: "ğŸ¼ Aku menemukan lubang di lantai, seperti tempat persembunyian." },
      { char: "iky", text: "ğŸ» Bagus Hany! Kita cek perlahan, jangan gegabah." },
      { char: "ogif", text: "ğŸ¦Š Perhatikan setiap sudut, bisa jadi jebakan." },
      { char: "andi", text: "ğŸ¦ Siapkan kamera dan komunikasi, jangan sampai kejutan." },
      { char: "narrator", text: "ğŸ“ Setiap langkah mereka dipenuhi ketegangan dan kewaspadaan." }
    ]
  },

  // =========================
  // PART 25 â€” KORBAN DITEMUKAN HIDUP
  // =========================
  {
    bg: "bg/warehouse_interior2.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Hanyâ€¦ lihat! Ada korban yang masih hidup!" },
      { char: "hany", text: "ğŸ¼ Aku akan bantu dia keluar!" },
      { char: "ogif", text: "ğŸ¦Š Pastikan aman. Kita harus evakuasi korban." },
      { char: "andi", text: "ğŸ¦ Aku pantau pelaku, jangan sampai kabur." },
      { char: "narrator", text: "ğŸ“ Kejadian ini membuat tim lebih percaya diri, tapi risiko tetap besar." }
    ]
  },

  // =========================
  // PART 26 â€” PELACAKAN
  // =========================
  {
    bg: "bg/city_night3.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Jejak pelaku terlihat menuju gedung tua." },
      { char: "hany", text: "ğŸ¼ Aku lihat sesuatuâ€¦ sebuah simbol di dinding." },
      { char: "ogif", text: "ğŸ¦Š Simbol ini menjadi tanda bahwa pelaku sengaja meninggalkan petunjuk." },
      { char: "andi", text: "ğŸ¦ Jangan lengah, ini bisa jebakan." },
      { char: "narrator", text: "ğŸ“ Setiap simbol menambah teka-teki dan ketegangan malam itu." }
    ]
  },

  // =========================
  // PART 27 â€” KONFRONTASI PERTAMA
  // =========================
  {
    bg: "bg/abandoned_building3.jpg",
    lines: [
      { char: "noname", text: "ğŸº Kalian pikir bisa menebakku?" },
      { char: "iky", text: "ğŸ» Tidak, kami akan hentikanmu!" },
      { char: "hany", text: "ğŸ¼ Aku bantu Iky!" },
      { char: "ogif", text: "ğŸ¦Š Jangan gegabah. Tetap di posisi." },
      { char: "andi", text: "ğŸ¦ Koordinasi sekarang!" }
    ]
  },

  // =========================
  // PART 28 â€” PERTOLONGAN HANY
  // =========================
  {
    bg: "bg/abandoned_building4.jpg",
    lines: [
      { char: "hany", text: "ğŸ¼ Cepat! Aku lihat korban hampir terjatuh dari lantai atas!" },
      { char: "iky", text: "ğŸ» Hanyâ€¦ hati-hati!" },
      { char: "ogif", text: "ğŸ¦Š Hany, tarik korban dengan aman!" },
      { char: "andi", text: "ğŸ¦ Aku bantu kontrol pelaku dari luar." },
      { char: "narrator", text: "ğŸ“ Hany menyelamatkan korban dengan keberanian yang luar biasa." }
    ]
  },

  // =========================
  // PART 29 â€” PETUNJUK KUNCI
  // =========================
  {
    bg: "bg/evidence_board3.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Simbol ini ternyata kode lokasi persembunyian pelaku!" },
      { char: "hany", text: "ğŸ¼ Aku bisa bantu pecahkan kodenya." },
      { char: "ogif", text: "ğŸ¦Š Hebat, Hany. Kalian mulai bekerja seperti tim nyata." },
      { char: "andi", text: "ğŸ¦ Pastikan koordinasi tetap terjaga." },
      { char: "narrator", text: "ğŸ“ Akhirnya mereka menemukan jalur menuju pelaku." }
    ]
  },

  // =========================
  // PART 30 â€” KEPANIKAN PELAKU
  // =========================
  {
    bg: "bg/warehouse_interior3.jpg",
    lines: [
      { char: "noname", text: "ğŸº Tidakâ€¦ mereka menemukan jalanku!" },
      { char: "iky", text: "ğŸ» Sekarang kau tak bisa kabur!" },
      { char: "hany", text: "ğŸ¼ Jangan sakiti siapapun lagi!" },
      { char: "ogif", text: "ğŸ¦Š Fokus, jangan lengah." },
      { char: "andi", text: "ğŸ¦ Semua jalur sudah terpantau." }
    ]
  },

  // =========================
  // PART 31 â€” TRAGEDI KECIL
  // =========================
  {
    bg: "bg/night_street5.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Hujan deras malam itu membuat Iky terpeleset. Hany segera menolongnya." },
      { char: "hany", text: "ğŸ¼ Aku di sini, Iky! Pegang tanganku!" },
      { char: "iky", text: "ğŸ» Terima kasih, Hanyâ€¦ kau hebat." },
      { char: "ogif", text: "ğŸ¦Š Hati-hati keduanya, jangan lengah." },
      { char: "andi", text: "ğŸ¦ Kita harus cepat, pelaku tidak menunggu." }
    ]
  },

  // =========================
  // PART 32 â€” PELACAKAN TERUS
  // =========================
  {
    bg: "bg/city_night4.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Jejak kaki basah mengarah ke pabrik tua." },
      { char: "hany", text: "ğŸ¼ Aku lihat lampu yang berkedipâ€¦ mungkin jebakan." },
      { char: "ogif", text: "ğŸ¦Š Waspada, jangan lengah!" },
      { char: "andi", text: "ğŸ¦ Aku pantau CCTV dari jarak aman." },
      { char: "narrator", text: "ğŸ“ Mereka semakin dekat dengan pelaku, tapi bahaya selalu mengintai." }
    ]
  },

  // =========================
  // PART 33 â€” KORBAN TERBARU
  // =========================
  {
    bg: "bg/crime_scene_adult2.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Korban pria dewasa ketiga ditemukan. Luka dan simbol sama dengan sebelumnya." },
      { char: "iky", text: "ğŸ» Pelaku sengaja menunjukkan tanda bahwa dia menantang kita." },
      { char: "hany", text: "ğŸ¼ Aku akan catat posisi dan simbolnya." },
      { char: "ogif", text: "ğŸ¦Š Hany mulai semakin berani dalam mengambil peran." },
      { char: "andi", text: "ğŸ¦ Kita hampir punya pola yang jelas." }
    ]
  },

  // =========================
  // PART 34 â€” KONFRONTASI DALAM PABRIK
  // =========================
  {
    bg: "bg/factory_interior.jpg",
    lines: [
      { char: "noname", text: "ğŸº Kalian pikir bisa menangkapku?" },
      { char: "iky", text: "ğŸ» Tidak! Kau tidak bisa kabur lagi!" },
      { char: "hany", text: "ğŸ¼ Aku bantu Iky!" },
      { char: "ogif", text: "ğŸ¦Š Tetap di posisi, jangan gegabah." },
      { char: "andi", text: "ğŸ¦ Semua jalur terpantau, pelaku terkepung." }
    ]
  },

  // =========================
  // PART 35 â€” PERTOLONGAN CEPAT HANY
  // =========================
  {
    bg: "bg/factory_interior2.jpg",
    lines: [
      { char: "hany", text: "ğŸ¼ Cepat! Ada korban hampir terjatuh dari lantai atas!" },
      { char: "iky", text: "ğŸ» Hanyâ€¦ hati-hati!" },
      { char: "ogif", text: "ğŸ¦Š Tarik korban dengan aman!" },
      { char: "andi", text: "ğŸ¦ Aku bantu dari luar." },
      { char: "narrator", text: "ğŸ“ Keberanian Hany menyelamatkan nyawa korban semakin membuatnya diperhitungkan." }
    ]
  },

  // =========================
  // PART 36 â€” PETUNJUK TERAKHIR
  // =========================
  {
    bg: "bg/evidence_board4.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Simbol terakhir ini mengarah langsung ke lokasi persembunyian utama pelaku!" },
      { char: "hany", text: "ğŸ¼ Aku bisa bantu buka kode tersembunyi ini." },
      { char: "ogif", text: "ğŸ¦Š Hebat Hany, kalian makin kompak." },
      { char: "andi", text: "ğŸ¦ Fokus, jangan lengah. Pelaku bisa menipu." },
      { char: "narrator", text: "ğŸ“ Semuanya siap menghadapi babak terakhir." }
    ]
  },

  // =========================
  // PART 37 â€” PELUANG MENANG
  // =========================
  {
    bg: "bg/night_street6.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Hany, kita hampir bisa menangkapnya." },
      { char: "hany", text: "ğŸ¼ Aku siapâ€¦ jangan lengah!" },
      { char: "ogif", text: "ğŸ¦Š Pastikan jalur keluar pelaku terpantau." },
      { char: "andi", text: "ğŸ¦ Semua tim sudah siap." },
      { char: "narrator", text: "ğŸ“ Ketegangan malam itu mencapai puncaknya." }
    ]
  },

  // =========================
  // PART 38 â€” KONFRONTASI TERAKHIR
  // =========================
  {
    bg: "bg/factory_final.jpg",
    lines: [
      { char: "noname", text: "ğŸº Kalian pikir ini akhir?" },
      { char: "iky", text: "ğŸ» Ya, ini akhirmu!" },
      { char: "hany", text: "ğŸ¼ Jangan sakiti siapapun lagi!" },
      { char: "ogif", text: "ğŸ¦Š Fokus, jangan lengah!" },
      { char: "andi", text: "ğŸ¦ Semua jalur terpantau!" }
    ]
  },

  // =========================
  // PART 39 â€” PENANGKAPAN
  // =========================
  {
    bg: "bg/factory_final2.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Pelaku tertangkap! Kita berhasil!" },
      { char: "hany", text: "ğŸ¼ Aku bangga kita bisa kerjasama." },
      { char: "ogif", text: "ğŸ¦Š Kerja bagus semuanya." },
      { char: "andi", text: "ğŸ¦ Akhirnya semua aman." },
      { char: "narrator", text: "ğŸ“ Kota tenang kembali. Tapi pelajaran malam ini akan selalu dikenang." }
    ]
  },

  // =========================
  // PART 40 â€” ENDING SEASON 4
  // =========================
  {
    bg: "bg/office_day5.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Dengan keberanian dan kerja sama, Iky dan Hany membuktikan kemampuan mereka. Namun misteri masih menunggu di masa depan." },
      { char: "iky", text: "ğŸ» Hany, kita belajar banyak malam ini." },
      { char: "hany", text: "ğŸ¼ Ya, Ikyâ€¦ aku siap untuk apapun selanjutnya." },
      { char: "ogif", text: "ğŸ¦Š Kalian sudah tumbuh menjadi tim yang hebat." },
      { char: "andi", text: "ğŸ¦ Jangan lengah, dunia ini penuh misteri baru." }
    ]
  },

  // =========================
  // PART 41 â€” PELACAKAN DALAM KOTA
  // =========================
  {
    bg: "bg/city_night5.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Jejak pelaku membawa tim ke bagian kota yang gelap dan sepi." },
      { char: "iky", text: "ğŸ» Hany, tetap dekat aku. Suasananya terasa aneh." },
      { char: "hany", text: "ğŸ¼ Aku di sampingmu, Iky. Jangan khawatir." },
      { char: "ogif", text: "ğŸ¦Š Semua jalur sudah terpantau, jangan lengah." },
      { char: "andi", text: "ğŸ¦ Pelaku mungkin menunggu untuk memancing kita." }
    ]
  },

  // =========================
  // PART 42 â€” PETUNJUK MISTERIUS
  // =========================
  {
    bg: "bg/alley_dark.jpg",
    lines: [
      { char: "hany", text: "ğŸ¼ Aku menemukan sehelai kain dengan simbol yang sama!" },
      { char: "iky", text: "ğŸ» Simbol iniâ€¦ pelaku sengaja meninggalkan tanda untuk kita." },
      { char: "ogif", text: "ğŸ¦Š Ini seperti jebakan psikologis, hati-hati." },
      { char: "andi", text: "ğŸ¦ Semua jalur sudah aku siapkan kamera." },
      { char: "narrator", text: "ğŸ“ Tim mulai menyadari pelaku ini lebih licik daripada sebelumnya." }
    ]
  },

  // =========================
  // PART 43 â€” KONFRONTASI KEDUA
  // =========================
  {
    bg: "bg/warehouse_night.jpg",
    lines: [
      { char: "noname", text: "ğŸº Kalian pikir bisa menebakku? Aku selalu selangkah di depan." },
      { char: "iky", text: "ğŸ» Tidak! Kami akan hentikanmu!" },
      { char: "hany", text: "ğŸ¼ Aku bantu Iky!" },
      { char: "ogif", text: "ğŸ¦Š Jangan gegabah, tetap di posisi." },
      { char: "andi", text: "ğŸ¦ Koordinasi sekarang!" }
    ]
  },

  // =========================
  // PART 44 â€” HANY MENYELAMATKAN IKY
  // =========================
  {
    bg: "bg/warehouse_upper.jpg",
    lines: [
      { char: "hany", text: "ğŸ¼ Ikyâ€¦ cepat! Kau hampir jatuh!" },
      { char: "iky", text: "ğŸ» Hanyâ€¦ terima kasihâ€¦" },
      { char: "ogif", text: "ğŸ¦Š Hany, luar biasa! Kau menyelamatkannya tepat waktu." },
      { char: "andi", text: "ğŸ¦ Pelaku tidak menyangka kita tetap solid." },
      { char: "narrator", text: "ğŸ“ Keberanian Hany membuat tim tetap aman, meski bahaya semakin dekat." }
    ]
  },

  // =========================
  // PART 45 â€” PETUNJUK DALANG
  // =========================
  {
    bg: "bg/evidence_room.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Semua simbol ini ternyata membentuk pola lokasi terakhir korban." },
      { char: "hany", text: "ğŸ¼ Aku bisa bantu menyatukan semua kode." },
      { char: "ogif", text: "ğŸ¦Š Hebat Hany, analisismu cepat." },
      { char: "andi", text: "ğŸ¦ Jika kita gabungkan, kita bisa tebak target terakhir pelaku." },
      { char: "narrator", text: "ğŸ“ Mereka akhirnya menemukan petunjuk yang bisa mengungkap dalang sebenarnya." }
    ]
  },

  // =========================
  // PART 46 â€” PELACAKAN TERAKHIR
  // =========================
  {
    bg: "bg/abandoned_factory_night.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Hany, jalur ini terlihat mencurigakan." },
      { char: "hany", text: "ğŸ¼ Aku lihat sesuatu di sudutâ€¦ mungkin jebakan." },
      { char: "ogif", text: "ğŸ¦Š Tetap fokus, jangan lengah!" },
      { char: "andi", text: "ğŸ¦ Semua jalur sudah terpantau." },
      { char: "narrator", text: "ğŸ“ Malam itu tegang, setiap langkah mereka penuh waspada." }
    ]
  },

  // =========================
  // PART 47 â€” KONFRONTASI TERAKHIR
  // =========================
  {
    bg: "bg/factory_final3.jpg",
    lines: [
      { char: "noname", text: "ğŸº Kalian pikir bisa menahanku? Aku selalu selangkah di depan." },
      { char: "iky", text: "ğŸ» Tidak! Ini akhirmu!" },
      { char: "hany", text: "ğŸ¼ Aku akan bantu!" },
      { char: "ogif", text: "ğŸ¦Š Tetap tenang, jangan gegabah." },
      { char: "andi", text: "ğŸ¦ Semua jalur terkepung." }
    ]
  },

  // =========================
  // PART 48 â€” PERTOLONGAN KRITIS HANY
  // =========================
  {
    bg: "bg/factory_final4.jpg",
    lines: [
      { char: "hany", text: "ğŸ¼ Cepat! Korban hampir terjatuh dari lantai atas!" },
      { char: "iky", text: "ğŸ» Hanyâ€¦ hati-hati!" },
      { char: "ogif", text: "ğŸ¦Š Tarik korban dengan aman!" },
      { char: "andi", text: "ğŸ¦ Aku pantau dari luar." },
      { char: "narrator", text: "ğŸ“ Hany menjadi penyelamat kunci, membuktikan dirinya sebagai partner sejati Iky." }
    ]
  },

  // =========================
  // PART 49 â€” DALANG TERUNGKAP
  // =========================
  {
    bg: "bg/factory_final5.jpg",
    lines: [
      { char: "noname", text: "ğŸº Aku tak pernah terlihat berbedaâ€¦ semua mengira aku orang biasa." },
      { char: "iky", text: "ğŸ» Jadi kau dalangnyaâ€¦ tapi kenapa?" },
      { char: "hany", text: "ğŸ¼ Aku tidak menyangkaâ€¦!" },
      { char: "ogif", text: "ğŸ¦Š Luar biasa licik, tak mudah ditebak." },
      { char: "andi", text: "ğŸ¦ Semua bukti cocok. Akhirnya kita berhasil." }
    ]
  },

  // =========================
  // PART 50 â€” ENDING SEASON 4
  // =========================
  {
    bg: "bg/office_day6.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Dengan keberanian, kecerdikan, dan kerja sama, Iky dan Hany menyelesaikan kasus besar ini. Namun misteri dunia kriminal tetap menunggu di masa depan." },
      { char: "iky", text: "ğŸ» Hany, kita belajar banyak malam ini." },
      { char: "hany", text: "ğŸ¼ Ya, Ikyâ€¦ aku siap menghadapi apapun selanjutnya." },
      { char: "ogif", text: "ğŸ¦Š Kalian sudah jadi tim yang hebat." },
      { char: "andi", text: "ğŸ¦ Jangan lengah, dunia selalu penuh teka-teki baru." }
    ]
  },

  // =========================
  // PART 51 â€” CREDIT ROLL CINEMATIC 1
  // =========================
  {
    bg: "bg/city_sunset.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Semua anggota tim beristirahat setelah malam penuh ketegangan." },
      { char: "iky", text: "ğŸ» Kasus ini selesai, tapi aku merasa masih ada yang tersembunyiâ€¦" },
      { char: "hany", text: "ğŸ¼ Iky, kita selamat berkat kerja sama tim. Aku bangga padamu." },
      { char: "ogif", text: "ğŸ¦Š Kalian berdua sudah menunjukkan keberanian luar biasa." },
      { char: "andi", text: "ğŸ¦ Ini bukan akhir, dunia selalu menyimpan teka-teki baru." }
    ]
  },

  // =========================
  // PART 52 â€” CREDIT ROLL CINEMATIC 2
  // =========================
  {
    bg: "bg/office_night.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Kamera perlahan zoom ke tumpukan bukti kasus terakhir." },
      { char: "narrator", text: "ğŸ“ Lampu kantor remang, bayangan menari di dinding." },
      { char: "noname", text: "ğŸº Kalian pikir ini sudah berakhir? Tunggu sajaâ€¦" }
    ]
  },

  // =========================
  // PART 53 â€” GRAYSCALE DAN EMOSI
  // =========================
  {
    bg: "bg/office_grayscale.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Sebuah momen sendu, mengingat korban yang hampir jatuh, Iky hampir matiâ€¦" },
      { char: "iky", text: "ğŸ» Aku merasa begitu rapuh malam ituâ€¦ tapi Hany menyelamatkanku." },
      { char: "hany", text: "ğŸ¼ Aku tidak akan membiarkanmu hilang." }
    ]
  },

  // =========================
  // PART 54 â€” PETIR DAN TEKANAN PSIKOLOGIS
  // =========================
  {
    bg: "bg/factory_storm.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Petir menyambar saat dalang muncul di bayangan. Suasana mencekam." },
      { char: "noname", text: "ğŸº Kalian pikir aku lemah? Aku selalu mengamati dari jauh." },
      { char: "ogif", text: "ğŸ¦Š Semua gerakan terpantau. Jangan lengah!" },
      { char: "andi", text: "ğŸ¦ Ini tidak bisa dianggap remehâ€¦" }
    ]
  },

  // =========================
  // PART 55 â€” AFTER CREDIT TEASER
  // =========================
  {
    bg: "bg/warehouse_door.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Setelah semua selesai, sebuah pintu misterius ditemukan di gudang lama." },
      { char: "iky", text: "ğŸ» Pintu iniâ€¦ belum pernah terlihat sebelumnya." },
      { char: "hany", text: "ğŸ¼ Rasanya ada yang menunggu kita di dalamâ€¦" },
      { char: "ogif", text: "ğŸ¦Š Siapapun yang ada di sana, ini bisa jadi petunjuk kasus berikutnya." },
      { char: "andi", text: "ğŸ¦ Semua jalur diamankan. Kita harus siap." }
    ]
  },

  // =========================
  // PART 56 â€” HINT SEASON 5 1
  // =========================
  {
    bg: "bg/night_city2.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Kota tetap tampak tenang, namun ancaman baru mulai munculâ€¦" },
      { char: "narrator", text: "ğŸ“ Jejak dalang lama tampak memudar, tapi ada sesuatu yang lebih gelap di balik bayangan." },
      { char: "noname", text: "ğŸº Kalian pikir aku sudah berhenti? Ini baru permulaanâ€¦" }
    ]
  },

  // =========================
  // PART 57 â€” HINT SEASON 5 2
  // =========================
  {
    bg: "bg/office_morning.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Hany, kita harus lebih siap. Aku rasa ini tidak akan mudah." },
      { char: "hany", text: "ğŸ¼ Aku siap, Iky. Bersama, kita bisa hadapi apapun." },
      { char: "ogif", text: "ğŸ¦Š Kedua kalian sudah jadi tim tangguh. Aku yakin kalian bisa menghadapinya." },
      { char: "andi", text: "ğŸ¦ Kita tidak bisa lengah. Dunia selalu menyimpan teka-teki baru." }
    ]
  },

  // =========================
  // PART 58 â€” CLOSING CINEMATIC
  // =========================
  {
    bg: "bg/city_sunset2.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Matahari tenggelam, menandai akhir dari babak ini, namun bayangan misteri tetap ada." },
      { char: "iky", text: "ğŸ» Ini bukan akhir, Hanyâ€¦ kita harus siap untuk apapun." },
      { char: "hany", text: "ğŸ¼ Aku akan selalu di sisimu." },
      { char: "ogif", text: "ğŸ¦Š Semua kerja keras kalian patut dihargai." },
      { char: "andi", text: "ğŸ¦ Jangan lengah, misteri berikutnya menunggu." }
    ]
  },

  // =========================
  // PART 59 â€” SEASON 5 TEASER 1
  // =========================
  {
    bg: "bg/forest_mist.jpg",
    lines: [
      { char: "narrator", text: "ğŸ“ Di hutan terpencil, bayangan baru mulai bergerakâ€¦ sesuatu yang lebih gelap dari sebelumnya." },
      { char: "noname", text: "ğŸº Siapkan diri kalianâ€¦ permainan baru akan dimulai." }
    ]
  },

  // =========================
  // PART 60 â€” SEASON 5 TEASER 2
  // =========================
  {
    bg: "bg/abandoned_house.jpg",
    lines: [
      { char: "iky", text: "ğŸ» Hanyâ€¦ aku merasa ini akan berbeda dari semua kasus sebelumnya." },
      { char: "hany", text: "ğŸ¼ Aku siap, Ikyâ€¦ kita hadapi bersama." },
      { char: "narrator", text: "ğŸ“ Season 5 akan menghadirkan teka-teki yang lebih gelap, plot twist yang lebih kompleks, dan ancaman baru yang tak terdugaâ€¦" }
    ]
  }
  
];
 // nanti isi cerita bisa dilanjutkan
 
let p=0,l=0;

function rain(on){
  const w=document.getElementById("weather");
  w.innerHTML="";
  if(!on) return;
  for(let i=0;i<60;i++){
    const d=document.createElement("div");
    d.className="drop";
    d.style.left=Math.random()*100+"%";
    d.style.animationDuration=1+Math.random()+"s";
    w.appendChild(d);
  }
}
function jumpscare(){
  document.getElementById("flash").classList.add("flash");
  document.getElementById("app").classList.add("shake");
  setTimeout(()=>{
    document.getElementById("flash").classList.remove("flash");
    document.getElementById("app").classList.remove("shake");
  },400);
}

function type(el,text,cb){
  el.innerHTML="";
  let i=0;
  const t=setInterval(()=>{
    el.innerHTML+=text[i]||"";
    i++;
    if(i>=text.length){clearInterval(t);cb&&cb()}
  },50);
}

function mood(txt){
  return /sunyi|gelap|darah|mati|ketukan|tangis|AAAA/i.test(txt);
}

function showLine(){
  document.querySelectorAll(".bubble").forEach(b=>{b.classList.remove("show");b.innerHTML=""});
  const line=parts[p]?.lines[l];
  if(!line) return;
  const bubble=document.getElementById(line.char+"Bubble");
  if(!bubble) return;
  if(mood(line.text)){
    rain(true);
    jumpscare();
    if(line.char=="noname"){ setTimeout(()=>{jumpscare()},300); }
  } else rain(false);

  type(bubble,line.text,()=>{
    setTimeout(()=>{
      l++;
      if(l<parts[p].lines.length) showLine();
    },2500);
  });
  bubble.classList.add("show");
}

function render(){
  l=0;
  if(parts[p]) document.getElementById("bg").style.backgroundImage=`url('${parts[p].bg}')`;
  showLine();
}

function nextPart(){if(p<parts.length-1){p++;render()}}
function prevPart(){if(p>0){p--;render()}}

render();
</script>

<!-- ======= FOOTER CINEMATIC PRO ======= -->
<div id="footerCine">

  <canvas id="noise"></canvas>

  <div class="eye">ğŸ‘</div>

  <div class="seasonBox">
    <h3 id="seasonText">SEASON BERIKUTNYA</h3>

    <div class="loadingBar">
      <div class="loadingFill"></div>
    </div>

    <p class="hint">
      Misteri belum berakhirâ€¦<br>
      Seseorang masih mengamati setiap langkahmu.
    </p>
  </div>

</div>

<audio id="ambience" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c8c8a73467.mp3" type="audio/mpeg">
</audio>

<style>
#footerCine{
  position:relative;
  max-width:900px;
  margin:30px auto;
  padding:26px;
  border-radius:18px;
  background:#000;
  color:white;
  overflow:hidden;
}

/* STATIC NOISE */
#noise{
  position:absolute;
  inset:0;
  opacity:.15;
  z-index:0;
}

/* EYE */
.eye{
  position:absolute;
  font-size:42px;
  left:50%;
  top:20px;
  transform:translateX(-50%);
  animation:blink 5s infinite;
  z-index:1;
}

/* CONTENT */
.seasonBox{
  position:relative;
  z-index:2;
  text-align:center;
}

.seasonBox h3{
  letter-spacing:3px;
  font-weight:800;
  margin-bottom:16px;
  animation:glitch 3s infinite;
}

.loadingBar{
  width:100%;
  height:10px;
  border-radius:999px;
  background:rgba(255,255,255,.1);
  overflow:hidden;
  margin:14px 0;
}

.loadingFill{
  height:100%;
  width:0%;
  background:#7b5cff;
  animation:loadLoop 4s linear infinite;
}

.hint{
  opacity:.7;
  font-size:.9rem;
}

/* Animations */
@keyframes loadLoop{
  0%{width:0}
  50%{width:100%}
  100%{width:0}
}

@keyframes blink{
  0%,90%,100%{opacity:1}
  95%{opacity:0}
}

@keyframes glitch{
  0%{text-shadow:2px 0 red}
  25%{text-shadow:-2px 0 blue}
  50%{text-shadow:2px 0 purple}
  75%{text-shadow:-2px 0 cyan}
  100%{text-shadow:none}
}

/* RESPONSIVE */
@media(max-width:600px){
  .eye{font-size:30px}
}
</style>

<script>
/* ===== TEXT ROTATE ===== */
const text=[
"SEASON BERIKUTNYA",
"COMING SOON",
"STORY LOADING",
"PLEASE WAIT..."
];
let idx=0;
setInterval(()=>{
  document.getElementById("seasonText").textContent=text[idx];
  idx=(idx+1)%text.length;
},2500);

/* ===== STATIC NOISE ===== */
const canvas=document.getElementById("noise");
const ctx=canvas.getContext("2d");

function resize(){
  canvas.width=canvas.offsetWidth;
  canvas.height=canvas.offsetHeight;
}
window.onresize=resize;
resize();

function noise(){
  const img=ctx.createImageData(canvas.width,canvas.height);
  for(let i=0;i<img.data.length;i+=4){
    const v=Math.random()*255;
    img.data[i]=v;
    img.data[i+1]=v;
    img.data[i+2]=v;
    img.data[i+3]=30;
  }
  ctx.putImageData(img,0,0);
  requestAnimationFrame(noise);
}
noise();

/* ===== AUTO AMBIENT SOUND ===== */
window.addEventListener("click",()=>{
  document.getElementById("ambience").play();
},{once:true});
</script>

</body>
</html>

